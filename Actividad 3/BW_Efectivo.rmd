---
title: "Estimación estadística del Ancho de Banda Efectivo"
author: "Natalia Clivio"
date: "2015"
header-includes:
  - \usepackage{dcolumn}
output: pdf_document
---
El ancho de banda efectivo es una medida usada en el dimensionamiento y planeamiento de redes de comunicaciones modernas. 

El objetivo de este análisis, es estimar el ancho de banda efectivo para distintos flujos de tráfico generados y la traza conocida de Bellcore.

En cuanto a su estimación hay dos enfoques, el paramétrico y el no paramétrico. En el enfoque paramétrico se asume un modelo de la fuente de tráfico y a partir de las trazas se estima un conjunto de parámetros de dicho modelo. De esa forma se obtiene un estimador del ancho de banda efectivo y además es posible calcular su intervalo de confianza. En el enfoque no paramétrico, no se asume un modelo específico del tráfico y se procura construir un estimador del ancho de banda efectivo calculando el valor esperado que aparece en la función generatriz de momentos a través de promedios temporales en la traza.

Inicialmente se analizarán modelos sencillos como el movimiento browniano, seguido de Fluido de Markov ON/OFF, movimiento fraccional browniano y modelo de FARIMA. Estos modelos presentan una variadad de características observadas en muchas formas en el tráfico real.

##Procesos de Renovación: Modelos con Incrementos Independientes
####Flujo con Movimiento Browniano

El movimiento browniano se ha utilizado como un caso limitado del tráfico pesado y también proporciona un inicio al análisis para el tráfico de movimiento browniano fraccional tratado más adelante.[1]


````{r echo=FALSE, warning=FALSE}
library(somebm)
bmdata <- bm(x0=1, t0=1, t=2, n=1000)
plot(bmdata, xlab="time (s)",ylab="Packets",main="Brownian motion trace")
````

Si se considera una traza con una longitud de 512 con los siguientes prámetros:


Taza promedio de arribo $\hat{\mu} = 50.83$
Varianza de la taza de arribo $\hat{\theta^2} = 30.18$


El flujo tiene una taza de servicio de C=52, un buffer de tamaño B=5.


Calculando el punto crítico $\boldsymbol{\alpha(s,t)}$, que está determinado [1]:

$$\alpha(s,t)=\mu + \frac{(s*\theta^2)}{2}$$

````{r}
C<-52
B<-5
u<-50.83
var<-30.18

s<-(2*(C-u))/var
t<-B/(C-u)

Bw_MB<-u+((s*var)/2)
Bw_MB

````



##Modelos dependientes con rango corto (SRD)
####Flujo de markov discreto ON/OFF

##Modelos dependientes con rango largo (LRD)
####Movimiento fraccional browniano
El movimiento browniano fraccional es un proceso Gaussiano BH(t) de media
cero con autosimilitud perfecta, con parámetro H que, a diferencia del modelo
M/Pareto, se extiende entre 0 y 1.
El movimiento browniano es utilizado en eldimensionado de recursos, el cálculo del retardo extremo a extremo y el multiplexado de fuentes de tráfico.[2]


````{r echo=FALSE, warning=FALSE}
library(somebm)
fbmdata <- fbm(hurst=0.75, n=1000)
plot(fbmdata, xlab="time (s)",ylab="Packets",main="Fractional brownian motion trace")
````

Teniendo en cuenta las características autosimilares de esta traza de tráfico y que siga un modelo de movimiento fraccional browniano,  entonces se puede suponer para el modelo una llegada de los datos en intervalos de tiempo t dada por:

$$X[\tau,\tau+t]=\lambda t+Z(t)$$
 
donde Z(t) corresponde al movimiento fraccional browniano con Var[Z(t)]=o^2*t^(2*H) para un parámetro de HURTS *H* entre 0 y 1, entonces[3]: 

$$\alpha(s,t)=\lambda + \frac{\theta^2 t^{(2H-1)}}{2}s$$

A continuación se calcula el ancho de banda efectivo de una traza con movimiento fraccional browniano con parámetro Hurst H=0.75, y los siguientes parámetros [1]:

Taza promedio de arribo $\hat{\mu} = 35.09$
Varianza de la taza de arribo $\hat{\theta^2} = 25.53$

El flujo tiene una taza de servicio de C=37, un buffer de tamaño B=5.

Calculando el punto crítico $\boldsymbol{\alpha(s,t)}$

````{r}
#Ejemplo 1
#Cálculo analítico del ancho de banda efectivo de la traza
C<-37
B<-5
u<-35.09
var<-25.53
H<-0.75

s<-(B+(C+u)*t)/(var*t^(2*H)) #0.0355
t<-(B/(C-u))*(H/(1-H))      #8

Bw_MFB<-u+(((s*var)/2)*(t^(2*H-1)))
Bw_MFB
````


````{r}
#Ejemplo 2
#Cálculo estadístico del ancho de banda efectivo de la traza
l<-138.185 #bytes por segundo
var<-89.668^2 # varianza 
H<-0.81
t<-(seq(length=100, from=0.0001, to=10))    #time parameter (ms)
s<-(seq(length=100, from=0.00001, to=0.01)) #space parameter (bytes^-1)

````

Los ejes tienen escala logarítmica (base 10) con s en unidades de $bytes^-1$, t en segundos y $\alpha(s,t)$ en bytes por segundo.

````{r}
Bw<-function(s,t) {log10(l+((((o^2)*(t^((2*H)-1)))/2)*s))}   
z<-outer(t,s,Bw) # La función outer evalua la función Bw en cada punto(si,tj)

persp((t),(s),(z),theta=20,phi=-0,col = "lightblue", main="Ancho de Banda Efectivo",
      ticktype ="detailed",xlab="t (ms)",ylab="s",zlab="(s,t)")  
````



##Procesos de Colas pesadas


##Procesos de Colas pesadas, autosimilares y LRD.




##Referencias
[1] Ravinovitch, Statistical Estimation of Effective Bandwidth. Concordia University. 2000

[2]García, Contribución al Desarrollo de Herramientas Estratégicas para el Diseño,Dimensionado y Evaluación de Redes de Telecomunicación de Banda Ancha. 2009

[3]Gibbens, Traffic characterisation and effective bandwidths for broadband network traces.